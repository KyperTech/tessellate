<md-content class="hc-background" layout-padding layout-align="center" layout="row" layout-fill>
  <!-- <md-whiteframe class="md-whiteframe-z2" layout="row" flex-sm="80" flex="60" layout-padding layout-align="center center" layout-fill> -->
  <div layout="row" layout-fill>
    <section class="build-drag-section" resizable r-directions="['right']" r-flex="true" r-width="250" r-height="800">
   	 <div layout="column" layout-align="left" flex>
        <!-- Publish Section -->
        <div class="sidemenu-section" layout="column" layout-margin>
	        <span class="sidemenu-section-labels">Publish</span>
	        <div flex layout="row" layout-sm="column">
	          <md-button md-no-ink class="md-raised hc-btn" ng-click="publishCurrentFile()" aria-label="Publish Project" disabled="true"><i class="fa fa-cloud-upload"></i></md-button>
	          <md-button md-no-ink class="md-raised hc-btn" ng-click="publishCurrentFile()" aria-label="Publish File" ng-disabled="!currentFile"><i class="fa fa-upload"></i></md-button>
	        </div>
        </div>
        <md-divider class="sidemenu-divider"></md-divider>
        <!-- File Tree -->
        <div class="sidemenu-section" layout="column" layout-margin>
	        <div class="filestree-wrapper" layout-padding>
	          <treecontrol class="tree-classic" tree-model="structure" options="tree.opts" on-selection="open(node)" selected-node="tree.selectedNode" expanded-nodes="tree.expandedNodes">
	            {{node.name}}
	          </treecontrol>
	        </div>
        </div>
        <md-divider class="sidemenu-divider"></md-divider>
        <!-- Add Files Section -->
        <div class="sidemenu-section" layout="column" layout-margin>
	        <span class="sidemenu-section-labels">Add</span>
	        <div class="sidemenu-section add-files" layout-fill layout="row" layout-sm="column">
	          <md-button class="md-raised hc-btn" ng-click="data.createMode = 'file'" aria-label="New File">
	            <i class="fa fa-plus"></i>
	            <i class="fa fa-file"></i>
	          </md-button>
	          <md-button class="md-raised hc-btn" ng-click="data.createMode = 'folder'" aria-label="New Folder">
	            <i class="fa fa-plus"></i>
	            <i class="fa fa-folder"></i>
	          </md-button>
	        </div>
        </div>
        <md-divider class="sidemenu-divider"></md-divider>
        <!-- Upload Files Section -->
        <div class="sidemenu-section" layout="column" layout-margin>
	        <span class="sidemenu-section-labels">Upload</span>
	        <div layout="column" layout-fill >
	          <div ngf-drop ngf-select ng-model="files" class="drop-box" 
	          ngf-drag-over-class="dragover" ngf-multiple="true" ngf-allow-dir="true"
	          accept="image/*,application/pdf" layout="row" layout-align="center center" layout-padding>
	            <div flex>
	              <span>Drop files here to add</span>
	            </div>
	          </div>
	          <div ngf-no-file-drop>
	            File Drag/Drop is not supported for this browser
	          </div>
	          <div ng-if="files && files.length > 0">
	            <span>Files:</span>
	            <ul>
	              <li ng-repeat="f in files">{{f.name}}</li>
	            </ul>
	          </div>
	          <!-- Upload Log:
	          <pre>{{log}}</pre> -->
	        </div>
        </div>
      </div>
    </section>
    <section class="build-drag-section" resizable r-directions="['right']" r-flex="true" rWidth="100" r-width="700" r-height="800">
    <div ui-ace="{
	    showGutter:true, 
	    useWrapMode: true, 
	    theme:'monokai', 
	    onLoad:aceLoaded, 
	    onChange:aceChanged,
	    mode: 'javascript',
	    advanced: { 
	    	enableSnippets: true, 
	    	enableBasicAutocompletion: true,
	      enableLiveAutocompletion: true
	  	}
  	}" layout-fill flex class="ace-editor"></div>
    </section>
    <section resizable r-directions="['right']" r-flex="true"  r-width="400" r-height="800" layout="row" layout-align="center center"  style="background-color:#272822">
					<div class="marvel-device iphone5s silver">
						<div class="top-bar"></div>
						<div class="sleep"></div>
						<div class="volume"></div>
						<div class="camera"></div>
						<div class="sensor"></div>
						<div class="speaker"></div>
						<div class="screen">
							<!-- Content goes here -->
	            <iframe class="md-whiteframe-z2 preview-frame" ng-src="{{previewData.url}}" width="100%" height="100%">
	              Error...
	            </iframe>
							</div>
						<div class="home"></div>
						<div class="bottom-bar"></div>
					</div>
    </section>
  </div>
  <!-- </md-whiteframe> -->
</md-content>