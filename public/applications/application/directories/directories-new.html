<md-dialog aria-label="New Application" flex="60" flex-sm="80" class="new-app-dialog">
  <md-toolbar>
    <div class="md-toolbar-tools">
      <h2>New Directory</h2>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="answer('not applicable')">
        <i class="fa fa-close" aria-label="Close dialog" ng-click="cancel()" style="font-size:1.5em;"></i>
      </md-button>
    </div>
  </md-toolbar>
  <md-dialog-content>
    <form layout-fill layout="row" layout-align="center center">
      <div layout="column" layout-align="center center" flex="75">
        <div layout="column" layout-align="start start" layout-fill>
          <label class="search-label">Directory Name</label>
          <md-input-container layout-fill layout-padding md-no-float="true" style="font-size:.7em">
            <!-- <label>Application Name</label> -->
            <input ng-model="newData.directory.name" placeholder="exampleApp">
          </md-input-container>
        </div>
        <div layout="column" layout-align="start start" layout-margin layout-fill>
          <label class="search-label">Accounts</label>
          <md-chips ng-model="data.selectedAccounts" md-autocomplete-snap md-require-match layout-fill>
            <md-autocomplete
              md-selected-item="data.selectedAccount"
              md-search-text-change="accountSearch(data.accountQueryText)"
              md-search-text="data.accountQueryText"
              md-items="account in accountSearch(data.accountQueryText)"
              md-item-text="account.name"
              md-min-length="0"
              placeholder="Search Accounts" layout-fill>
              <md-item-template>
                <span md-highlight-text="data.accountQueryText" md-highlight-flags="^i">{{account.name}}</span>
              </md-item-template>
              <md-not-found>
                No matches found for "{{data.accountQueryText}}".
              </md-not-found>
            </md-autocomplete>
            <md-chip-template>
              <span>
                <strong>{{$chip.name}}</strong>
                <em>({{$chip.username}})</em>
              </span>
            </md-chip-template>
          </md-chips>
        </div>
        <div layout="column" layout-align="start start" layout-margin layout-fill>
          <label class="search-label">Groups</label>
          <md-chips ng-model="data.selectedGroups" md-autocomplete-snap md-require-match layout-fill>
            <md-autocomplete
              md-selected-item="data.selectedGroup"
              md-search-text-change="groupSearch(data.groupQueryText)"
              md-search-text="data.groupQueryText"
              md-selected-item-change="selectedGroupChange(item)"
              md-items="group in groupSearch(data.groupQueryText)"
              md-item-text="group.name"
              md-min-length="0"
              placeholder="Search Groups" style="" layout-fill>
              <md-item-template>
                <span md-highlight-text="data.groupQueryText" md-highlight-flags="^i">{{group.name}}</span>
              </md-item-template>
              <md-not-found>
                No matches found for "{{data.groupQueryText}}".
              </md-not-found>
            </md-autocomplete>
            <md-chip-template>
              <span>
                <strong>{{$chip.name}}</strong>
                <em>({{$chip.username}})</em>
              </span>
            </md-chip-template>
          </md-chips>
        </div>
      </div>
    </form>
  </md-dialog-content>
  <div class="md-actions" layout="row">
    <span flex></span>
    <md-button ng-click="cancel()" class="md-warn">
     Cancel
    </md-button>
    <md-button ng-click="create(newData.directory)" class="md-primary">
      Create
    </md-button>
  </div>
</md-dialog>



